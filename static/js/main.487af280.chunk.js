(this.webpackJsonpreviews=this.webpackJsonpreviews||[]).push([[0],{26:function(e,t,a){e.exports=a(40)},31:function(e,t,a){},32:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(23),c=a.n(s),l=a(8),i=(a(31),a(3)),o=a(4),m=a(6),u=a(5);a(32);var p=function(){return r.a.createElement(l.b,{to:"/"},r.a.createElement("div",{className:"logo"}))};var h=function(e){return r.a.createElement("nav",{className:"navigation"},r.a.createElement("ul",{className:"menu"},r.a.createElement("li",{className:"menu-item"},r.a.createElement(l.c,{exact:!0,to:"/",activeClassName:"current-menu-item"},"Home")),r.a.createElement("li",{className:"menu-item"},r.a.createElement(l.c,{to:"/login",activeClassName:"current-menu-item"},"Login")),r.a.createElement("li",{className:"menu-item"},r.a.createElement(l.c,{to:"/companies",activeClassName:"current-menu-item"},"Companies"))))},d=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"header-container"},r.a.createElement(p,null),r.a.createElement(h,{fetchReviewName:this.props.fetchReviewName}))}}]),a}(n.Component),f=function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"company"},r.a.createElement("div",{className:"logo"}),r.a.createElement("p",{className:"company-info"},"NPS.Today ApS",r.a.createElement("span",null,"Vester Farimagsgade 15"),r.a.createElement("span",null," 1606 K\xf8benhavn V")),r.a.createElement("div",{className:"copyright"},r.a.createElement("p",null,"Copyright \xa9 2020 All Right Reserved")),r.a.createElement("ul",{className:"footer-menu"},r.a.createElement("li",{className:"footer-menu-item"},"Privatlivspolitik"),r.a.createElement("li",{className:"footer-menu-item"},"Forretningsbetingelser"))),r.a.createElement("div",{className:"social-media"},r.a.createElement("span",null,"FB"),r.a.createElement("span",null,"YT"),r.a.createElement("span",null,"IN")))},v=a(1),E=a(12),g=a.n(E),N=a(14),y=a(7),w=a.n(y),b="https://sandbox.api.nps.today/reviews/",j=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={organisationNames:[],searchResult:[],errorMessage:null},e.searchHandler=function(t){var a=t.target.value.toLowerCase();if(a){var n=e.state.organisationNames.filter((function(e){return e.toLowerCase().includes(a)}));e.setState({searchResult:n},(function(){0===e.state.searchResult.length?e.setState({errorMessage:"No Results..."}):e.setState({errorMessage:null})}))}else e.setState({searchResult:[]})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(N.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(b+"reviewNames").then((function(e){return e.json()})).then((function(e){return new Promise((function(t,a){return t(e)}))}));case 2:t=e.sent,this.setState({organisationNames:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"search"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"search",placeholder:"Search for company",onChange:this.searchHandler})),r.a.createElement("div",{className:"search-result-wrapper"},r.a.createElement("ul",{className:"search-results"},this.state.searchResult.map((function(e,t){return r.a.createElement(l.b,{key:t,to:"/r/"+e},r.a.createElement("li",{className:"search-item"},e||r.a.createElement(w.a,null)," "))})),null===this.state.errorMessage?"":r.a.createElement("li",null,this.state.errorMessage))))}}]),a}(n.Component),O=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(e){return r.a.createElement("div",{className:"content-wrapper-frontpage"},r.a.createElement("main",{id:"frontpage"},r.a.createElement(j,e)))}}]),a}(n.Component),k=function(){return r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("main",null,r.a.createElement("div",{className:"container"},"Login")))},P=function(){return r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("main",null,r.a.createElement("div",{className:"container"},"Companies")))},C=function(e){return fetch(b+e+"/orgId").then((function(e){return e.json()})).then((function(e){return new Promise((function(t,a){return t(e)}))}))},R=function(e){return fetch(b+"/organization/profile?orgId="+e).then((function(e){return e.json()})).then((function(e){return new Promise((function(t,a){return t(e)}))}))},S=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={orgId:null,organisationProfile:null,analytics:null},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(N.a)(g.a.mark((function e(){var t,a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.name,e.next=3,C(t);case 3:return a=e.sent,e.next=6,fetch(b+"analytics?orgId="+a).then((function(e){return e.json()})).then((function(e){return new Promise((function(t,a){return t(e)}))}));case 6:return n=e.sent,e.next=9,R(a);case 9:r=e.sent,this.setState({orgId:a,organisationProfile:r,analytics:n});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{id:"analytics",className:"container"},r.a.createElement("div",{className:"logo"},null===this.state.organisationProfile?r.a.createElement(w.a,{width:250,height:100}):r.a.createElement("img",{src:this.state.organisationProfile.logoLink,alt:this.state.organisationProfile.reviewName+" Logo"})),r.a.createElement("div",{className:"analytics"},r.a.createElement("div",{className:"gauge"},r.a.createElement("span",null,null===this.state.analytics?r.a.createElement(w.a,{circle:!0,height:50,width:50}):this.state.analytics.spread.nps)),r.a.createElement("div",{className:"name"},null===this.state.organisationProfile?r.a.createElement(w.a,null):this.state.organisationProfile.reviewName),r.a.createElement("div",{className:"total-respondents"},null===this.state.analytics?r.a.createElement(w.a,null):this.state.analytics.spread.total+" Besvarelser ("+this.state.analytics.averageRating+" Avg)",r.a.createElement("span",{className:"avg"})),r.a.createElement("div",{className:"spread"},r.a.createElement("div",{className:"detractors"},null===this.state.analytics?r.a.createElement(w.a,null):this.state.analytics.spread.detractors),r.a.createElement("div",{className:"passive"},null===this.state.analytics?r.a.createElement(w.a,null):this.state.analytics.spread.passives),r.a.createElement("div",{className:"promoters"},null===this.state.analytics?r.a.createElement(w.a,null):this.state.analytics.spread.promoters))))}}]),a}(n.Component),x=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"response container"},r.a.createElement("div",{className:"rating"},r.a.createElement("div",{className:"score"},this.props.data.rating||r.a.createElement(w.a,{circle:!0,height:60,width:60}))),r.a.createElement("div",{className:"user"},this.props.data.respondent.firstName||r.a.createElement(w.a,{width:200})),r.a.createElement("p",{className:"comment"},this.props.data.userComment||r.a.createElement(w.a,{count:3})))}}]),a}(n.Component),I=function(e){return fetch(b+"/responses?skip=0&take=10",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return new Promise((function(t,a){return t(e)}))}))},A=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={orgId:null,responsesFromOrganisation:null,responses:null},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(N.a)(g.a.mark((function e(){var t,a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.name,e.next=3,C(t);case 3:return a=e.sent,e.next=6,fetch(b+"/campaignIds?orgId="+a).then((function(e){return e.json()})).then((function(e){return new Promise((function(t,a){return t(e)}))}));case 6:return n=e.sent,e.next=9,I(n);case 9:r=e.sent,this.setState({orgId:a,campgainId:n,responses:r});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{id:"responsesContainer"},null===this.state.responses?r.a.createElement(w.a,{height:150}):this.state.responses.results.map((function(e,t){return r.a.createElement(x,{key:t,data:e})})))}}]),a}(n.Component),M=function(){return r.a.createElement("div",{className:"sidebar container"},r.a.createElement("h3",null,"Hvad er NPS?"),r.a.createElement("p",null,"Net Promoter Score (NPS\xae) er en effektiv metode til at m\xe5le, forst\xe5 og handle p\xe5 dine kunders oplevelser."),r.a.createElement("p",null,"Derfor er NPS blevet en metode, som mange succesfulde organisationer anvender til at skabe bedre kundeoplevelser, mere loyale kunder og derigennem \xf8get salg."),r.a.createElement("p",null,"Tilfredse kunder er glade og har f\xe5et det de forventede. Men loyale kunder oplever at de har f\xe5et mere, er derfor mindre prisf\xf8lsomme og k\xf8ber generelt mere. De er dine ambassad\xf8rer i markedet og tr\xe6kker nye kunder til."),r.a.createElement("p",null,"L\xe6s mere..."))},L=function(){return r.a.createElement("div",{id:"sidebars"},r.a.createElement(M,null),r.a.createElement(M,null))},D=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={receivedProps:!1},e}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e){!1===this.state.receivedProps&&e!==this.props&&(this.props.fetchReviewName(this.props.match.params.name),this.setState({receivedProps:!0}))}},{key:"componentWillUnmount",value:function(){console.log("exited search component"),this.setState({receivedProps:!1})}},{key:"render",value:function(){return r.a.createElement("div",{id:"review-page",className:"content-wrapper"},r.a.createElement("main",{id:"review"},r.a.createElement(S,this.props),r.a.createElement(A,this.props)),r.a.createElement("aside",null,r.a.createElement(L,this.props)))}}]),a}(n.Component),T=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(v.c,null,r.a.createElement(v.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(O,e)}}),r.a.createElement(v.a,{exact:!0,path:"/login",render:function(e){return r.a.createElement(k,e)}}),r.a.createElement(v.a,{exact:!0,path:"/companies",render:function(e){return r.a.createElement(P,e)}}),r.a.createElement(v.a,{exact:!0,path:"/r/:name",render:function(t){return r.a.createElement(D,Object.assign({fetchReviewName:e.props.fetchReviewName},t))}}))}}]),a}(n.Component),B=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={reviewName:null},e.fetchReviewName=function(t){e.setState({reviewName:t})},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(l.a,null,r.a.createElement(d,{fetchReviewName:this.fetchReviewName}),r.a.createElement(T,{fetchReviewName:this.fetchReviewName}),r.a.createElement(f,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(l.a,null,r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.487af280.chunk.js.map